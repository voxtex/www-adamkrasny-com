<!DOCTYPE html><html><head><title class="jsx-963523721">Adam Krasny</title><meta name="viewport" content="initial-scale=1.0, width=device-width" class="jsx-963523721"/><meta charSet="utf-8" class="jsx-963523721"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/f34e6278080680ff7e03.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f34e6278080680ff7e03.css"/><link rel="preload" href="/_next/static/IrSldHR5aPqTRoDz-CrFL/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/IrSldHR5aPqTRoDz-CrFL/pages/blog/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.c6faae2799416a6da8e8.js" as="script"/><link rel="preload" href="/_next/static/chunks/bb65fbcecbf6bba9100bc2be42288ef9bef8deb4.c964d93927c0dd8d7b97.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-a91a76281866687ddcfc.js" as="script"/><style id="__jsx-3741841748">.root.jsx-3741841748{max-height:30px;overflow:hidden;}.inner.jsx-3741841748{-webkit-transform:translateY(-0px);-ms-transform:translateY(-0px);transform:translateY(-0px);-webkit-transition:-webkit-transform 0.5s cubic-bezier(0.5,1,0.89,1);-webkit-transition:transform 0.5s cubic-bezier(0.5,1,0.89,1);transition:transform 0.5s cubic-bezier(0.5,1,0.89,1);}</style><style id="__jsx-4072863876">.contact-button.jsx-4072863876{min-width:50px;height:50px;background-color:rgba(255,255,255,0.05);-webkit-transition:0.3s -webkit-transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);-webkit-transition:0.3s transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);transition:0.3s transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);}.contact-button.jsx-4072863876:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;background-color:rgba(255,255,255,0.1);}.contact-button.jsx-4072863876 img.jsx-4072863876{height:100%;width:auto;}</style><style id="__jsx-963523721">.root.jsx-963523721{min-height:100vh;display:grid;grid: "side-nav" auto "side-nav-indicator" 30px "content" 1fr "contact-buttons" auto / minmax(0,1fr);}nav.jsx-963523721{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);grid-area:side-nav;}.nav-links.jsx-963523721 li.jsx-963523721{-webkit-transition:0.3s -webkit-transform cubic-bezier(0.5,1,0.89,1);-webkit-transition:0.3s transform cubic-bezier(0.5,1,0.89,1);transition:0.3s transform cubic-bezier(0.5,1,0.89,1);}.side-nav-indicator-holder.jsx-963523721{grid-area:side-nav-indicator;}.contact-buttons.jsx-963523721{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);grid-area:contact-buttons;border-top-color:rgba(255,255,255,0.05);}main.jsx-963523721{grid-area:content;}@media (min-width:768px){.root.jsx-963523721{grid: "side-nav side-nav-indicator content" 1fr "contact-buttons side-nav-indicator content" auto / 340px 30px minmax(0,1fr);}.nav-links.jsx-963523721 li.jsx-963523721:hover{-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}}@media (min-width:1024px){.root.jsx-963523721{grid: "side-nav side-nav-indicator content" 1fr "contact-buttons side-nav-indicator content" auto / 420px 30px minmax(0,1024px);}}</style></head><body><div id="__next"><div class="jsx-963523721 root"><nav class="jsx-963523721 bg-black bg-opacity-50 px-4 text-white text-center pb-0 md:text-left md:px-6"><a class="jsx-963523721 inline-block px-4 mt-6 text-white hover:text-white hover:text-opacity-75 md:block md:px-0" href="/"><h1 class="jsx-963523721 text-5xl">Adam Krasny</h1></a><h2 class="jsx-963523721 text-xl mt-2 flex flex-wrap justify-center md:justify-start"><div class="jsx-3741841748 root pr-2 text-right"><div class="jsx-3741841748 inner"><div class="jsx-3741841748">Software Engineer</div><div class="jsx-3741841748">Technical support</div><div class="jsx-3741841748">Bicyclist</div><div class="jsx-3741841748">Enjoys napping</div><div class="jsx-3741841748">Always hungry</div></div></div><div class="jsx-963523721"> in San Jose, CA</div></h2><ul class="jsx-963523721 nav-links list-none font-sans flex justify-around mt-4 md:mt-16 md:block"><li class="jsx-963523721"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/career">Career</a></li><li class="jsx-963523721"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/blog">Blog</a></li><li class="jsx-963523721"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/adamrc">.adamrc</a></li></ul></nav><div id="contact-buttons" class="jsx-963523721 contact-buttons bg-black bg-opacity-50 flex justify-end items-center p-2 border-t px-4 md:px-6 md:justify-start"><a href="http://stackoverflow.com/users/2639178/adamk" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjIyLjYgMTQuOSA3My4xIDg2LjYiIHdpZHRoPSIxMDAiPjxwYXRoIGQ9Ik04NC40IDkzLjhWNzAuNmg3Ljd2MzAuOUgyMi42VjcwLjZoNy43djIzLjJ6IiBmaWxsPSIjYmNiYmJiIi8+PHBhdGggZD0iTTM4LjggNjguNGwzNy44IDcuOSAxLjYtNy42LTM3LjgtNy45LTEuNiA3LjZ6bTUtMThsMzUgMTYuMyAzLjItNy0zNS0xNi40LTMuMiA3LjF6bTkuNy0xNy4ybDI5LjcgMjQuNyA0LjktNS45LTI5LjctMjQuNy00LjkgNS45em0xOS4yLTE4LjNsLTYuMiA0LjYgMjMgMzEgNi4yLTQuNi0yMy0zMXpNMzggODZoMzguNnYtNy43SDM4Vjg2eiIgZmlsbD0iI2Y0ODAyMyIvPjwvc3ZnPg==" alt="Stack Overflow" class="jsx-4072863876"/></a><a href="http://www.linkedin.com/in/adamkrasny" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTUuNzMxIDQ1NS43MzEiPjxwYXRoIGZpbGw9IiMwMDg0YjEiIGQ9Ik0wIDBoNDU1LjczMXY0NTUuNzMxSDB6Ii8+PHBhdGggZD0iTTEwNy4yNTUgNjkuMjE1YzIwLjg3My4wMTcgMzguMDg4IDE3LjI1NyAzOC4wNDMgMzguMjM0LS4wNSAyMS45NjUtMTguMjc4IDM4LjUyLTM4LjMgMzguMDQzLTIwLjMwOC40MTEtMzguMTU1LTE2LjU1MS0zOC4xNTEtMzguMTg4IDAtMjAuOTg1IDE3LjI4Mi0zOC4xMDUgMzguNDA4LTM4LjA4OXptMjIuMTc2IDMxNy4yNTZIODQuNzFjLTUuODA0IDAtMTAuNTA5LTQuNzA1LTEwLjUwOS0xMC41MDlWMTg1LjE4YzAtNS44MDQgNC43MDUtMTAuNTA5IDEwLjUwOS0xMC41MDloNDQuNzIxYzUuODA0IDAgMTAuNTA5IDQuNzA1IDEwLjUwOSAxMC41MDl2MTkwLjc4M2MtLjAwMSA1LjgwMy00LjcwNSAxMC41MDgtMTAuNTA5IDEwLjUwOHptMjU3LjQ1My0xNDQuNzg5YzAtMzkuOTk2LTMyLjQyMy03Mi40Mi03Mi40Mi03Mi40MmgtMTEuNDdjLTIxLjg4MiAwLTQxLjIxNCAxMC45MTgtNTIuODQyIDI3LjYwNmE2NC4yNDkgNjQuMjQ5IDAgMDAtMy41MiA1LjY1OGMtLjM3My0uMDU2LS41OTQtLjA4NS0uNTk5LS4wNzV2LTIzLjQxOGE0LjM2MyA0LjM2MyAwIDAwLTQuMzYzLTQuMzYzaC01NS43OTVhNC4zNjMgNC4zNjMgMCAwMC00LjM2MyA0LjM2M1YzODIuMTFhNC4zNjMgNC4zNjMgMCAwMDQuMzYxIDQuMzYzbDU3LjAxMS4wMTRhNC4zNjMgNC4zNjMgMCAwMDQuMzY0LTQuMzYzVjI2NC44MDFjMC0yMC4yOCAxNi4xNzUtMzcuMTE5IDM2LjQ1NC0zNy4zNDggMTAuMzUyLS4xMTcgMTkuNzM3IDQuMDMxIDI2LjUwMSAxMC43OTkgNi42NzUgNi42NzEgMTAuODAyIDE1Ljg5NSAxMC44MDIgMjYuMDc5djExNy44MDhhNC4zNjMgNC4zNjMgMCAwMDQuMzYxIDQuMzYzbDU3LjE1Mi4wMTRhNC4zNjMgNC4zNjMgMCAwMDQuMzY0LTQuMzYzVjI0MS42ODJ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+" alt="LinkedIn" class="jsx-4072863876"/></a><a href="https://github.com/voxtex" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFm0lEQVR4XuWbW8hmUxjHh8ghpwsmISYkIynJ6YIhN2QQUi4w01yMC+ECJTnUKIfCxIUi8ckpTMjF3KBxhYvhQkjjmEOZjMMFYxB/6/fu2fvb+3nevfda77u/d+/P/OtX07PXc1rvvPvde631LZG0ZIFZFrgmcH/gtcDHgR8Cv2le/Bsb115VNvZqZb42Xqc4QwfsHjg38Hjga00vYhCLmMS2+abCGaZgaeDuwLdaOBGbHIfI558IZ5iAIwIPB/7Q7EQucpLb1pOEMySwZ+CWwO/qT+SmBmqx9UXhDJGcEvhEwxG1UJOtsxVnaGG3wI2BPzU8UdMNymq0ddfiDA3sE3hJwxc1UqutfyzOUMOBgXe0eESt1Gz7cDjDGAj0vhafNitiEpzBsG/gXS1eUTs92L6iJoCbySta/KKH2hujM5S4Ge//iejF9tc4AWcG/h65NuucwMmBVYEXNJunQXKQa5Wy3NTQJnqhJ9vn2AnYK/BZ5teoD+R9DwrcGvi5NK4r/aIsNjlsXmppEz3RW+sE3Jl7tOgBed8cinwk8E8xWvox8HZgLnBv4CZlDy7Av7FxjTGMzUUMYo1rPOfBYnSz6K3iawMdHdhRDG/WavlCLDyeXhU4asy1NvDBN+YRd7XiRG/0WPjaQI/Nj23V+fKF9AW1xIoeC99ykCMDf5UGtuki+UL64mLFix7pdeRbDvJQeVSE1sgX0hfUkiJ6HfnmAXif3loZ0q5H5QvpC2pJEb2O1hDyACur16PEs7YtpC+oJVX0XEzAM+Zim/genSZfSF9QS8r9C9FzMQEsSafoDvki+uZ2pYmeRxOw3F5p0feBveUL6Btq+k5pWo7jWmtt0W3yyYcCtaVoLU7rrbVFx8gnHgrHKk3rcdporQ1iY8ImHRopX4ONOGyx1ga9IZ9waFBjrLbgUH7zatOz8gmHxnOK1zYcYt/+0Jx8wqExp3jtwCFFrK/ZhEOD7fVo4ZCixXAPeFMJwmG7NTboc/mEQ4MaY7Udh5S3QBYXo7edeoDaYhZzc23FKfVN6iz5xEPhbKVpM04brLVF98knHgrUlqINOK2z1hZ9qQU4q9MB1ERtKVqH4ySLIVfKF9A31JSqlThyuClVX6hl03HGUEvqp4+W5gFSb4ToCflC+oJaUjVa0ssDpN4HcrEKY4uZNbE7WVb0XEzA8eZiijjE2McKEb/55J5U9FzZF3ivej1JvFKzUVK7D98h5LhUaU98VvQ6ilcOzHnecXpL2cPPJcpmvOnt8UNlp8iWyRc+Laz2sM/fxfE8eh3FLSfYI/BNedROsQp0gubHHae4Ir5S9mpK0Wxdua3pBvYPXKHsHvO80lZ52kSP9DrKZRNfWxpYFicyOb2dj+OsbswZglxPK+3rwdgnR57dix6LXDYxM/PR/Fin8n7gqaru/9fpp8AB8k22gc82dSt6Kz59sEnhvGK4F9//8tfhrsrV8WLV2eaIJfbgQ6zorZLDJsxpOifAKnI+jv+q91QvO10oHz+WC9SdKucCcpxhJ/up+WfmJFXHn65sr437wq/KHpV5y+Rum3Lzs3CaowvRCz3Z+LUTACeq+mctZb0oP34h4FzQtKIHerGxRziD4TLV3+h4GLHju2baCaB2erBxC5xhDHV7h6wlXi4/vkumnQBqtzErOEMNHGWr08uBM5T2Ox/LNBNAzTaewxka4EGoacGRHaZNyv407nVlz9vcEJvO97UxyQRQY/mhrRFnaGGF0laR0SwngNpWyMepxRkiOFzZJx2rWU3AJmW12RiNOEMkfN+vU/3PZFkLPQHUcL0mvAc5QyKHKXtp+Vf1OlTeLxZeuupEzqeU1WD9onGGCeH9gDe+cSe1pvkrz4PlxU2OXOV3kolxhinh0+BI+6fKxLu8HZMKMRAxiT3VJ25xhl0NZ9jV+A/gOaVjwaOBBQAAAABJRU5ErkJggg==" alt="GitHub" class="jsx-4072863876"/></a><a href="mailto:adam@adamkrasny.com" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTEuOTkyIDUxMS45OTIiPjxwYXRoIGZpbGw9IiMxOTc2ZDIiIGQ9Ik0yNDcuMDEzIDM0MC45N2wtODcuMDA4IDE1NS4wMDggMTgwLjk5Mi0xMDkuMTg0eiIvPjxwYXRoIGQ9Ik01MDYuMDIxIDE5LjUzYy00LjQ0OC0zLjU4NC0xMC41OTItNC41MTItMTUuOTY4LTIuNGwtNDgwIDE5MmMtNS45MiAyLjM2OC05Ljg4OCA4LjAzMi0xMC4wNDggMTQuNDMyczMuNDg4IDEyLjI1NiA5LjMxMiAxNC45NDRsNDE2IDE5MmMyLjExMi45NiA0LjQxNiAxLjQ3MiA2LjY4OCAxLjQ3MiAyLjU2IDAgNS4xNTItLjY0IDcuNDU2LTEuODU2IDQuNDQ4LTIuMzM2IDcuNDg4LTYuNTkyIDguMzItMTEuNTJsNjQtMzg0Yy45MjgtNS42NjQtMS4yNDgtMTEuNDU2LTUuNzYtMTUuMDcyeiIgZmlsbD0iIzIxOTZmMyIvPjxwYXRoIGZpbGw9IiM2NGI1ZjYiIGQ9Ik00OTYuMDA1IDMxLjk3OGwtMzM2IDI3Ni4wOTZ2MTg3LjkwNGw4OC0xNDcuMjk2eiIvPjwvc3ZnPg==" alt="Email" class="jsx-4072863876"/></a></div><div class="jsx-963523721 side-nav-indicator-holder"></div><main class="jsx-963523721 bg-white py-5 px-4 md:px-8 md:py-10"><div><h1>Getting started with Gulp</h1>
<p>This is the first in a short series about setting up a sane gulpfile that works for development and production.</p>
<p>Having recently switched from Grunt, I find Gulp to be easier to use and maintain, and I want to share what I’ve learned so far.</p>
<h2>Initial setup</h2>
<p>This guide assumes you already have <a href="http://nodejs.org/">nodejs</a> installed. There should also be a ‘package.json’ in your root application directory, which can be created using <code>npm init</code>. From there, gulp should be installed globally using npm <code>install -g gulp</code> and inside of our project dependencies using <code>npm install --save-dev gulp</code>.</p>
<p>Our first gulpfile will be simple and I will use it to introduce several important plugins.</p>
<h2>Plugins</h2>
<p>Install the following gulp plugins using npm <code>npm install --save-dev &#x3C;plugin></code></p>
<p><a href="https://github.com/sindresorhus/gulp-changed">gulp-changed</a> - Run tasks on changed files only.<br>
<a href="https://github.com/peter-vilja/gulp-clean">gulp-clean</a> - Clean up build artifacts.<br>
<a href="https://github.com/avevlad/gulp-connect">gulp-connect</a> - Development http server with live reload.<br>
<a href="https://github.com/jackfranklin/gulp-load-plugins">gulp-load-plugins</a> - Easily load all gulp plugins.<br>
<a href="https://github.com/stevelacy/gulp-open">gulp-open</a> - Open browser automatically.<br>
<a href="https://github.com/floatdrop/gulp-plumber">gulp-plumber</a> - Monkey patch to fix stream piping being stopped by errors. Useful for development.<br>
<a href="https://github.com/OverZealous/run-sequence">run-sequence</a> - As of today, this functionality still doesn’t seem to be implemented in gulp. Check out <a href="https://github.com/orchestrator/orchestrator/issues/21">https://github.com/orchestrator/orchestrator/issues/21</a> for more information.<br>
<a href="http://lodash.com/">lodash</a> - Some utility functions. Also an awesome library.  </p>
<h2>File structure</h2>
<p>There is an assumption about file structure. My app structure is diagramed below, adjust your gulpfile accordingly.</p>
<pre><code>app/
    views/
    scripts/
    styles/
    images/
    index.html
build/
gulpfile.js
package.json
</code></pre>
<h2>Gulpfile</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
lp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-load-plugins'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// automatically load our plugins</span>
_ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Start by requiring the plugins and modules we need. gulp-load-plugins will load plugins and return an object that contains them. For example, gulp-changed will be assigned to <code>lp.changed</code>, the ‘gulp-’ prefix is removed automatically.</p>
<h2>Utility functions</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token method function property-access">isArray</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span>p2<span class="token punctuation">,</span> _<span class="token punctuation">.</span><span class="token method function property-access">partial</span><span class="token punctuation">(</span>join<span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2 <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> appPath <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token method function property-access">partial</span><span class="token punctuation">(</span>join<span class="token punctuation">,</span> <span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> buildPath <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token method function property-access">partial</span><span class="token punctuation">(</span>join<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>I like to write some helper functions for easy path creation. Take advantage of the path module in node, along with lodash’s ability to partially apply functions. join is now a function that takes a path, p1, and can join it with either an array of paths (in which case it will be mapped to each one) or a single path.</p>
<p><code>appPath()</code> and <code>buildPath()</code> can be used to easily set up configuration settings. The views, for example, would be located at <code>appPath('views')</code> which evaluates to ‘app/views’.</p>
<h2>Configuration</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  httpPort<span class="token punctuation">:</span> <span class="token string">'9000'</span><span class="token punctuation">,</span>

  <span class="token comment">// views</span>
  srcViews<span class="token punctuation">:</span> <span class="token function">appPath</span><span class="token punctuation">(</span><span class="token string">'views/**/*.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  destViews<span class="token punctuation">:</span> <span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token string">'views/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  srcIndex<span class="token punctuation">:</span> <span class="token function">appPath</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// this will be more useful in the future</span>

  <span class="token comment">// styles</span>
  srcStyles<span class="token punctuation">:</span> <span class="token function">appPath</span><span class="token punctuation">(</span><span class="token string">'styles/**/*.css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  destStyles<span class="token punctuation">:</span> <span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token string">'styles'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// scripts</span>
  srcScripts<span class="token punctuation">:</span> <span class="token function">appPath</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'scripts/*.js'</span><span class="token punctuation">,</span> <span class="token string">'scripts/*/*.js'</span><span class="token punctuation">,</span> <span class="token string">'scripts/**/*.js'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// There is reason to this madness, will explain.</span>
  destScripts<span class="token punctuation">:</span> <span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token string">'scripts'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// images</span>
  srcImages<span class="token punctuation">:</span> <span class="token function">appPath</span><span class="token punctuation">(</span><span class="token string">'images/**/*'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// supply extensions if you desire</span>
  destImages<span class="token punctuation">:</span> <span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token string">'images'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>An object to hold all build configuration. This is pretty straightforward, but we want to define all inputs and outputs so they can be changed from one place.</p>
<p>You may notice srcScripts seems unnecessarily complex. This is just to process files in a specific order. While it doesn’t matter now, this will be useful in the future. Scripts in ‘app/scripts’ first, all subdirectories in ‘app/scripts’, and then the remaining directories recursively.</p>
<h2>Build tasks</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'styles'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcStyles</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">changed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destStyles</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destStyles</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'scripts'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcScripts</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">changed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destScripts</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destScripts</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'images'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcImages</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">changed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destImages</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destImages</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcViews</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">changed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destViews</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">destViews</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'styles'</span><span class="token punctuation">,</span> <span class="token string">'scripts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcIndex</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span><span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>All of our basic build tasks come next. The second argument when defining a task can be an array of dependencies. Here, the ‘index’ task depends on ‘styles’ and ‘scripts’. These two tasks will be executed concurrently before the main task, ‘index’, gets run. This comes in handy with more complex gulpfiles.</p>
<p>A few interesting plugins are being used here.
<a href="https://github.com/floatdrop/gulp-plumber">gulp-plumber</a>, used as <code>lp.plumber()</code>, prevents our tasks from stopping when an error occurs. Without this gulp would die if an error occurred in one of the tasks invoked by a watch. Some tasks, such as Sass compilation, simply need to be rerun and aren’t fatal. This eases the development process by preventing interruptions.</p>
<p>The live-reload feature of <a href="https://github.com/avevlad/gulp-connect">gulp-connect</a>. You can pipe files to <code>lp.connect.reload()</code> and trigger gulp-connect to send a live-reload message to the browser. This message will only contain the piped files.</p>
<p><a href="https://github.com/sindresorhus/gulp-changed">gulp-changed</a>, will compare piped files to the specified output path, and filter out all files that haven’t changed. It optimizes the build process in development by not rebuilding files that have remained the same.</p>
<p><code>gulp.dest()</code> is built into gulp and simply writes the piped files to disk.</p>
<h2>Cleanup</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'clean'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span><span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>read<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>lp<span class="token punctuation">.</span><span class="token method function property-access">clean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>gulp-clean will delete our ‘build/’ directory. By passing {read: false} to <code>gulp.src()</code>, we tell gulp that we don’t want to read the content of the files. File names are enough to delete a file.</p>
<h2>Watching for changes</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'watch'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  gulp<span class="token punctuation">.</span><span class="token method function property-access">watch</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcStyles</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'styles'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token method function property-access">watch</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcViews</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token method function property-access">watch</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcImages</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'images'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token method function property-access">watch</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcScripts</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'scripts'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token method function property-access">watch</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token property-access">srcIndex</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>watch is built into gulp. It will monitor files for changes, and execute one or more tasks. Our tasks watches all project files and runs the rebuild tasks when they are altered.</p>
<h2>Building</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'clean'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runSequence</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token string">'images'</span><span class="token punctuation">,</span> <span class="token string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>build is a collection of tasks. First it will run ‘clean’, then it will run ‘index’, ‘images’, and ‘views’ concurrently. This builds everything we need to have a working version of the application in ‘build/’.</p>
<h2>Starting a server</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'server'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  lp<span class="token punctuation">.</span><span class="token property-access">connect</span><span class="token punctuation">.</span><span class="token method function property-access">server</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    root<span class="token punctuation">:</span> <span class="token function">buildPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    port<span class="token punctuation">:</span> config<span class="token punctuation">.</span><span class="token property-access">httpPort</span><span class="token punctuation">,</span>
    livereload<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>server will start up the <a href="https://github.com/torifat/gulp-connect-multi">gulp-connect</a> http server and use the ‘build/’ directory to serve files.</p>
<h2>Wrapping it all up</h2>
<pre class="language-javascript"><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'build'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runSequence</span><span class="token punctuation">(</span><span class="token string">'server'</span><span class="token punctuation">,</span> <span class="token string">'watch'</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Finally, the ‘default’ task will build and start a server automatically. It can be run by simply typing <code>gulp</code>.</p>
<p><code>run-sequence()</code> let’s us ensure that ‘server’ and ‘watch’ are executed sequentially. The key difference from the first time we saw it is passing an array of strings, as opposed to multiple string parameters. While not currently possible in Gulp, this feature seems to be on the roadmap as seen here <a href="https://github.com/orchestrator/orchestrator/issues/21">https://github.com/orchestrator/orchestrator/issues/21</a>.</p>
<p>All tasks can be executed independently using <code>gulp &#x3C;taskname></code>.</p>
<p>That should be enough to get you going. The final result should look something like this.</p>
<p><a href="https://gist.github.com/voxtex/11239483">https://gist.github.com/voxtex/11239483</a></p>
<p>The following comments are inevitable, so I will respond before they come up.</p>
<blockquote>
<p>There’s no point to copying the files, they aren’t modified.</p>
</blockquote>
<p>Correct. It serves no purpose right now, but eventually we will be compiling from Sass and Slim, and performing minification and concatenation. We need to ouput the processed files to some isolated directory.</p>
<blockquote>
<p>There’s no point in using runSequence() for the build task, as those items are concurrent anyway.</p>
</blockquote>
<p>Also correct. They could simply be defined as dependencies on the task. It was more to illustrate usage of runSequence(), and will be important later on.</p>
<p>In future posts, I will work on building out the tasks to include typical web development functionality. Sass, Slim, JSHint, and minification will be included along with a bit more.</p>
<p>If you have any suggestions or improvements be sure to comment and let me know.</p></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Getting started with Gulp","date":"2014-04-12T00:00:00.000Z","slug":"getting-started-with-gulp","content":"\u003ch1\u003eGetting started with Gulp\u003c/h1\u003e\n\u003cp\u003eThis is the first in a short series about setting up a sane gulpfile that works for development and production.\u003c/p\u003e\n\u003cp\u003eHaving recently switched from Grunt, I find Gulp to be easier to use and maintain, and I want to share what I’ve learned so far.\u003c/p\u003e\n\u003ch2\u003eInitial setup\u003c/h2\u003e\n\u003cp\u003eThis guide assumes you already have \u003ca href=\"http://nodejs.org/\"\u003enodejs\u003c/a\u003e installed. There should also be a ‘package.json’ in your root application directory, which can be created using \u003ccode\u003enpm init\u003c/code\u003e. From there, gulp should be installed globally using npm \u003ccode\u003einstall -g gulp\u003c/code\u003e and inside of our project dependencies using \u003ccode\u003enpm install --save-dev gulp\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eOur first gulpfile will be simple and I will use it to introduce several important plugins.\u003c/p\u003e\n\u003ch2\u003ePlugins\u003c/h2\u003e\n\u003cp\u003eInstall the following gulp plugins using npm \u003ccode\u003enpm install --save-dev \u0026#x3C;plugin\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/sindresorhus/gulp-changed\"\u003egulp-changed\u003c/a\u003e - Run tasks on changed files only.\u003cbr\u003e\n\u003ca href=\"https://github.com/peter-vilja/gulp-clean\"\u003egulp-clean\u003c/a\u003e - Clean up build artifacts.\u003cbr\u003e\n\u003ca href=\"https://github.com/avevlad/gulp-connect\"\u003egulp-connect\u003c/a\u003e - Development http server with live reload.\u003cbr\u003e\n\u003ca href=\"https://github.com/jackfranklin/gulp-load-plugins\"\u003egulp-load-plugins\u003c/a\u003e - Easily load all gulp plugins.\u003cbr\u003e\n\u003ca href=\"https://github.com/stevelacy/gulp-open\"\u003egulp-open\u003c/a\u003e - Open browser automatically.\u003cbr\u003e\n\u003ca href=\"https://github.com/floatdrop/gulp-plumber\"\u003egulp-plumber\u003c/a\u003e - Monkey patch to fix stream piping being stopped by errors. Useful for development.\u003cbr\u003e\n\u003ca href=\"https://github.com/OverZealous/run-sequence\"\u003erun-sequence\u003c/a\u003e - As of today, this functionality still doesn’t seem to be implemented in gulp. Check out \u003ca href=\"https://github.com/orchestrator/orchestrator/issues/21\"\u003ehttps://github.com/orchestrator/orchestrator/issues/21\u003c/a\u003e for more information.\u003cbr\u003e\n\u003ca href=\"http://lodash.com/\"\u003elodash\u003c/a\u003e - Some utility functions. Also an awesome library.  \u003c/p\u003e\n\u003ch2\u003eFile structure\u003c/h2\u003e\n\u003cp\u003eThere is an assumption about file structure. My app structure is diagramed below, adjust your gulpfile accordingly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eapp/\n    views/\n    scripts/\n    styles/\n    images/\n    index.html\nbuild/\ngulpfile.js\npackage.json\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eGulpfile\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e gulp \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'gulp'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\nlp \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'gulp-load-plugins'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// automatically load our plugins\u003c/span\u003e\n_ \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'lodash'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStart by requiring the plugins and modules we need. gulp-load-plugins will load plugins and return an object that contains them. For example, gulp-changed will be assigned to \u003ccode\u003elp.changed\u003c/code\u003e, the ‘gulp-’ prefix is removed automatically.\u003c/p\u003e\n\u003ch2\u003eUtility functions\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ep1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e p2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eisArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ep2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ep2\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epartial\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ejoin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e p1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ep1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e p2 \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e appPath \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epartial\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ejoin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'app'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e buildPath \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epartial\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ejoin\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'build'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI like to write some helper functions for easy path creation. Take advantage of the path module in node, along with lodash’s ability to partially apply functions. join is now a function that takes a path, p1, and can join it with either an array of paths (in which case it will be mapped to each one) or a single path.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eappPath()\u003c/code\u003e and \u003ccode\u003ebuildPath()\u003c/code\u003e can be used to easily set up configuration settings. The views, for example, would be located at \u003ccode\u003eappPath('views')\u003c/code\u003e which evaluates to ‘app/views’.\u003c/p\u003e\n\u003ch2\u003eConfiguration\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e config \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  httpPort\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'9000'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// views\u003c/span\u003e\n  srcViews\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eappPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'views/**/*.html'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  destViews\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'views/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  srcIndex\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eappPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'index.html'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// this will be more useful in the future\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// styles\u003c/span\u003e\n  srcStyles\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eappPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'styles/**/*.css'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  destStyles\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'styles'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// scripts\u003c/span\u003e\n  srcScripts\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eappPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'scripts/*.js'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'scripts/*/*.js'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'scripts/**/*.js'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// There is reason to this madness, will explain.\u003c/span\u003e\n  destScripts\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'scripts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// images\u003c/span\u003e\n  srcImages\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eappPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'images/**/*'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// supply extensions if you desire\u003c/span\u003e\n  destImages\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'images'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAn object to hold all build configuration. This is pretty straightforward, but we want to define all inputs and outputs so they can be changed from one place.\u003c/p\u003e\n\u003cp\u003eYou may notice srcScripts seems unnecessarily complex. This is just to process files in a specific order. While it doesn’t matter now, this will be useful in the future. Scripts in ‘app/scripts’ first, all subdirectories in ‘app/scripts’, and then the remaining directories recursively.\u003c/p\u003e\n\u003ch2\u003eBuild tasks\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'styles'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcStyles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eplumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003echanged\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestStyles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestStyles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereload\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\ngulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'scripts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcScripts\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eplumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003echanged\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestScripts\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestScripts\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereload\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\ngulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'images'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcImages\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eplumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003echanged\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestImages\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestImages\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereload\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\ngulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'views'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcViews\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eplumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003echanged\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestViews\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edestViews\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereload\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\ngulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'index'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'styles'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'scripts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcIndex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eplumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereload\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAll of our basic build tasks come next. The second argument when defining a task can be an array of dependencies. Here, the ‘index’ task depends on ‘styles’ and ‘scripts’. These two tasks will be executed concurrently before the main task, ‘index’, gets run. This comes in handy with more complex gulpfiles.\u003c/p\u003e\n\u003cp\u003eA few interesting plugins are being used here.\n\u003ca href=\"https://github.com/floatdrop/gulp-plumber\"\u003egulp-plumber\u003c/a\u003e, used as \u003ccode\u003elp.plumber()\u003c/code\u003e, prevents our tasks from stopping when an error occurs. Without this gulp would die if an error occurred in one of the tasks invoked by a watch. Some tasks, such as Sass compilation, simply need to be rerun and aren’t fatal. This eases the development process by preventing interruptions.\u003c/p\u003e\n\u003cp\u003eThe live-reload feature of \u003ca href=\"https://github.com/avevlad/gulp-connect\"\u003egulp-connect\u003c/a\u003e. You can pipe files to \u003ccode\u003elp.connect.reload()\u003c/code\u003e and trigger gulp-connect to send a live-reload message to the browser. This message will only contain the piped files.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/sindresorhus/gulp-changed\"\u003egulp-changed\u003c/a\u003e, will compare piped files to the specified output path, and filter out all files that haven’t changed. It optimizes the build process in development by not rebuilding files that have remained the same.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003egulp.dest()\u003c/code\u003e is built into gulp and simply writes the piped files to disk.\u003c/p\u003e\n\u003ch2\u003eCleanup\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'clean'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esrc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eread\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eclean\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003egulp-clean will delete our ‘build/’ directory. By passing {read: false} to \u003ccode\u003egulp.src()\u003c/code\u003e, we tell gulp that we don’t want to read the content of the files. File names are enough to delete a file.\u003c/p\u003e\n\u003ch2\u003eWatching for changes\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'watch'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcStyles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'styles'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcViews\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'views'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcImages\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'images'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcScripts\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'scripts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  gulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esrcIndex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'index'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewatch is built into gulp. It will monitor files for changes, and execute one or more tasks. Our tasks watches all project files and runs the rebuild tasks when they are altered.\u003c/p\u003e\n\u003ch2\u003eBuilding\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'build'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'clean'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ecb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003erunSequence\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'index'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'images'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'views'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e cb\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebuild is a collection of tasks. First it will run ‘clean’, then it will run ‘index’, ‘images’, and ‘views’ concurrently. This builds everything we need to have a working version of the application in ‘build/’.\u003c/p\u003e\n\u003ch2\u003eStarting a server\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'server'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  lp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econnect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eserver\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    root\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ebuildPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    port\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ehttpPort\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    livereload\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eserver will start up the \u003ca href=\"https://github.com/torifat/gulp-connect-multi\"\u003egulp-connect\u003c/a\u003e http server and use the ‘build/’ directory to serve files.\u003c/p\u003e\n\u003ch2\u003eWrapping it all up\u003c/h2\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003egulp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'default'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'build'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ecb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003erunSequence\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'server'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'watch'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e cb\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFinally, the ‘default’ task will build and start a server automatically. It can be run by simply typing \u003ccode\u003egulp\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003erun-sequence()\u003c/code\u003e let’s us ensure that ‘server’ and ‘watch’ are executed sequentially. The key difference from the first time we saw it is passing an array of strings, as opposed to multiple string parameters. While not currently possible in Gulp, this feature seems to be on the roadmap as seen here \u003ca href=\"https://github.com/orchestrator/orchestrator/issues/21\"\u003ehttps://github.com/orchestrator/orchestrator/issues/21\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAll tasks can be executed independently using \u003ccode\u003egulp \u0026#x3C;taskname\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThat should be enough to get you going. The final result should look something like this.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://gist.github.com/voxtex/11239483\"\u003ehttps://gist.github.com/voxtex/11239483\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThe following comments are inevitable, so I will respond before they come up.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThere’s no point to copying the files, they aren’t modified.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eCorrect. It serves no purpose right now, but eventually we will be compiling from Sass and Slim, and performing minification and concatenation. We need to ouput the processed files to some isolated directory.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThere’s no point in using runSequence() for the build task, as those items are concurrent anyway.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAlso correct. They could simply be defined as dependencies on the task. It was more to illustrate usage of runSequence(), and will be important later on.\u003c/p\u003e\n\u003cp\u003eIn future posts, I will work on building out the tasks to include typical web development functionality. Sass, Slim, JSHint, and minification will be included along with a bit more.\u003c/p\u003e\n\u003cp\u003eIf you have any suggestions or improvements be sure to comment and let me know.\u003c/p\u003e"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"getting-started-with-gulp"},"buildId":"IrSldHR5aPqTRoDz-CrFL","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-c47376ea2e40b4964992.js"></script><script async="" data-next-page="/_app" src="/_next/static/IrSldHR5aPqTRoDz-CrFL/pages/_app.js"></script><script async="" data-next-page="/blog/[slug]" src="/_next/static/IrSldHR5aPqTRoDz-CrFL/pages/blog/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.c6faae2799416a6da8e8.js" async=""></script><script src="/_next/static/chunks/bb65fbcecbf6bba9100bc2be42288ef9bef8deb4.c964d93927c0dd8d7b97.js" async=""></script><script src="/_next/static/runtime/main-a91a76281866687ddcfc.js" async=""></script><script src="/_next/static/IrSldHR5aPqTRoDz-CrFL/_buildManifest.js" async=""></script><script src="/_next/static/IrSldHR5aPqTRoDz-CrFL/_ssgManifest.js" async=""></script></body></html>