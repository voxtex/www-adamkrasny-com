<!DOCTYPE html><html><head><title class="jsx-40435514">Adam Krasny</title><meta name="viewport" content="initial-scale=1.0, width=device-width" class="jsx-40435514"/><meta charSet="utf-8" class="jsx-40435514"/><link rel="icon" href="/favicon/favicon.ico?v=1.0" class="jsx-40435514"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" class="jsx-40435514"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" class="jsx-40435514"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" class="jsx-40435514"/><link rel="manifest" href="/favicon/site.webmanifest" class="jsx-40435514"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/c760c24020b7134fae46.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c760c24020b7134fae46.css"/><link rel="preload" href="/_next/static/iJenALEn8t7NKy_DwyjMf/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/iJenALEn8t7NKy_DwyjMf/pages/blog/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.c6faae2799416a6da8e8.js" as="script"/><link rel="preload" href="/_next/static/chunks/3021bdac98e69bcd02bdc1fa4ee12f459d5dd1c6.36a881b4253e934d1e53.js" as="script"/><link rel="preload" href="/_next/static/chunks/42177f33c26e48b0d455685a01c568315c8aca79.cfa33ad9bed022c371f6.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-cbcd34bbcc20775d6548.js" as="script"/><style id="__jsx-3741841748">.root.jsx-3741841748{max-height:30px;overflow:hidden;}.inner.jsx-3741841748{-webkit-transform:translateY(-0px);-ms-transform:translateY(-0px);transform:translateY(-0px);-webkit-transition:-webkit-transform 0.5s cubic-bezier(0.5,1,0.89,1);-webkit-transition:transform 0.5s cubic-bezier(0.5,1,0.89,1);transition:transform 0.5s cubic-bezier(0.5,1,0.89,1);}</style><style id="__jsx-4072863876">.contact-button.jsx-4072863876{min-width:50px;height:50px;background-color:rgba(255,255,255,0.05);-webkit-transition:0.3s -webkit-transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);-webkit-transition:0.3s transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);transition:0.3s transform cubic-bezier(0.5,1,0.89,1), 0.3s background-color cubic-bezier(0.5,1,0.89,1);}.contact-button.jsx-4072863876:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;background-color:rgba(255,255,255,0.1);}.contact-button.jsx-4072863876 img.jsx-4072863876{height:100%;width:auto;}</style><style id="__jsx-2907914692">.post.jsx-2907914692>h1:first-child{margin-top:0;}</style><style id="__jsx-40435514">:root{--side-bar-width:340px;--contact-buttons-height:calc(51px + 1rem);--side-nav-indicator-width:24px;}.root.jsx-40435514{display:grid;grid: "side-nav" auto "side-nav-indicator" 24px "content" 1fr "contact-buttons" auto / minmax(0,1fr);}nav.jsx-40435514{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);grid-area:side-nav;}.nav-links.jsx-40435514 li.jsx-40435514{-webkit-transition:0.3s -webkit-transform cubic-bezier(0.5,1,0.89,1);-webkit-transition:0.3s transform cubic-bezier(0.5,1,0.89,1);transition:0.3s transform cubic-bezier(0.5,1,0.89,1);}.side-nav-indicator-holder.jsx-40435514{grid-area:side-nav-indicator;}.contact-buttons.jsx-40435514{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);grid-area:contact-buttons;border-top-color:rgba(255,255,255,0.05);}main.jsx-40435514{grid-area:content;}@media (min-width:768px){.root.jsx-40435514{grid: "side-nav side-nav-indicator content" 1fr "contact-buttons side-nav-indicator content" var(--contact-buttons-height) / var(--side-bar-width) var(--side-nav-indicator-width) minmax(0,1024px);}nav.jsx-40435514{position:fixed;top:0;bottom:var(--contact-buttons-height);left:0;width:var(--side-bar-width);}.side-nav-indicator-holder.jsx-40435514{position:fixed;top:0;bottom:0;left:var(--side-bar-width);width:var(--side-nav-indicator-width);}.contact-buttons.jsx-40435514{position:fixed;bottom:0;left:0;width:var(--side-bar-width);}.nav-links.jsx-40435514 li.jsx-40435514:hover{-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}}@media (min-width:1024px){:root{--side-bar-width:420px;--side-nav-indicator-width:30px;}}</style></head><body><div id="__next"><div class="jsx-40435514 root min-h-screen"><nav class="jsx-40435514 bg-black bg-opacity-75 px-4 text-white text-center pb-0 md:text-left md:px-6 md:bg-opacity-50"><a class="jsx-40435514 inline-block px-4 mt-2 text-white hover:text-white hover:text-opacity-75 md:block md:px-0 md:mt-6" href="/"><h1 class="jsx-40435514 text-5xl">Adam Krasny</h1></a><h2 class="jsx-40435514 text-xl flex flex-wrap justify-center mt-0 md:mt-2 md:justify-start"><div class="jsx-3741841748 root pr-2 text-right"><div class="jsx-3741841748 inner"><div class="jsx-3741841748">Software Engineer</div><div class="jsx-3741841748">Technical support</div><div class="jsx-3741841748">Bicyclist</div><div class="jsx-3741841748">Enjoys napping</div><div class="jsx-3741841748">Always hungry</div></div></div><div class="jsx-40435514"> in San Jose, CA</div></h2><ul class="jsx-40435514 nav-links list-none font-sans flex justify-around mt-2 md:mt-16 md:block"><li class="jsx-40435514"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/career">Career</a></li><li class="jsx-40435514"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/blog">Blog</a></li><li class="jsx-40435514"><a class="text-xl block hover:cursor-pointer px-4 py-2 text-white hover:text-white hover:text-opacity-75 md:px-0" href="/adamrc">.adamrc</a></li></ul></nav><div id="contact-buttons" class="jsx-40435514 contact-buttons bg-black bg-opacity-75 flex justify-end items-center p-2 border-t px-4 md:px-6 md:justify-start md:bg-opacity-50"><a href="http://stackoverflow.com/users/2639178/adamk" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjIyLjYgMTQuOSA3My4xIDg2LjYiIHdpZHRoPSIxMDAiPjxwYXRoIGQ9Ik04NC40IDkzLjhWNzAuNmg3Ljd2MzAuOUgyMi42VjcwLjZoNy43djIzLjJ6IiBmaWxsPSIjYmNiYmJiIi8+PHBhdGggZD0iTTM4LjggNjguNGwzNy44IDcuOSAxLjYtNy42LTM3LjgtNy45LTEuNiA3LjZ6bTUtMThsMzUgMTYuMyAzLjItNy0zNS0xNi40LTMuMiA3LjF6bTkuNy0xNy4ybDI5LjcgMjQuNyA0LjktNS45LTI5LjctMjQuNy00LjkgNS45em0xOS4yLTE4LjNsLTYuMiA0LjYgMjMgMzEgNi4yLTQuNi0yMy0zMXpNMzggODZoMzguNnYtNy43SDM4Vjg2eiIgZmlsbD0iI2Y0ODAyMyIvPjwvc3ZnPg==" alt="Stack Overflow" class="jsx-4072863876"/></a><a href="http://www.linkedin.com/in/adamkrasny" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTUuNzMxIDQ1NS43MzEiPjxwYXRoIGZpbGw9IiMwMDg0YjEiIGQ9Ik0wIDBoNDU1LjczMXY0NTUuNzMxSDB6Ii8+PHBhdGggZD0iTTEwNy4yNTUgNjkuMjE1YzIwLjg3My4wMTcgMzguMDg4IDE3LjI1NyAzOC4wNDMgMzguMjM0LS4wNSAyMS45NjUtMTguMjc4IDM4LjUyLTM4LjMgMzguMDQzLTIwLjMwOC40MTEtMzguMTU1LTE2LjU1MS0zOC4xNTEtMzguMTg4IDAtMjAuOTg1IDE3LjI4Mi0zOC4xMDUgMzguNDA4LTM4LjA4OXptMjIuMTc2IDMxNy4yNTZIODQuNzFjLTUuODA0IDAtMTAuNTA5LTQuNzA1LTEwLjUwOS0xMC41MDlWMTg1LjE4YzAtNS44MDQgNC43MDUtMTAuNTA5IDEwLjUwOS0xMC41MDloNDQuNzIxYzUuODA0IDAgMTAuNTA5IDQuNzA1IDEwLjUwOSAxMC41MDl2MTkwLjc4M2MtLjAwMSA1LjgwMy00LjcwNSAxMC41MDgtMTAuNTA5IDEwLjUwOHptMjU3LjQ1My0xNDQuNzg5YzAtMzkuOTk2LTMyLjQyMy03Mi40Mi03Mi40Mi03Mi40MmgtMTEuNDdjLTIxLjg4MiAwLTQxLjIxNCAxMC45MTgtNTIuODQyIDI3LjYwNmE2NC4yNDkgNjQuMjQ5IDAgMDAtMy41MiA1LjY1OGMtLjM3My0uMDU2LS41OTQtLjA4NS0uNTk5LS4wNzV2LTIzLjQxOGE0LjM2MyA0LjM2MyAwIDAwLTQuMzYzLTQuMzYzaC01NS43OTVhNC4zNjMgNC4zNjMgMCAwMC00LjM2MyA0LjM2M1YzODIuMTFhNC4zNjMgNC4zNjMgMCAwMDQuMzYxIDQuMzYzbDU3LjAxMS4wMTRhNC4zNjMgNC4zNjMgMCAwMDQuMzY0LTQuMzYzVjI2NC44MDFjMC0yMC4yOCAxNi4xNzUtMzcuMTE5IDM2LjQ1NC0zNy4zNDggMTAuMzUyLS4xMTcgMTkuNzM3IDQuMDMxIDI2LjUwMSAxMC43OTkgNi42NzUgNi42NzEgMTAuODAyIDE1Ljg5NSAxMC44MDIgMjYuMDc5djExNy44MDhhNC4zNjMgNC4zNjMgMCAwMDQuMzYxIDQuMzYzbDU3LjE1Mi4wMTRhNC4zNjMgNC4zNjMgMCAwMDQuMzY0LTQuMzYzVjI0MS42ODJ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+" alt="LinkedIn" class="jsx-4072863876"/></a><a href="https://github.com/voxtex" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer mr-4"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFm0lEQVR4XuWbW8hmUxjHh8ghpwsmISYkIynJ6YIhN2QQUi4w01yMC+ECJTnUKIfCxIUi8ckpTMjF3KBxhYvhQkjjmEOZjMMFYxB/6/fu2fvb+3nevfda77u/d+/P/OtX07PXc1rvvPvde631LZG0ZIFZFrgmcH/gtcDHgR8Cv2le/Bsb115VNvZqZb42Xqc4QwfsHjg38Hjga00vYhCLmMS2+abCGaZgaeDuwLdaOBGbHIfI558IZ5iAIwIPB/7Q7EQucpLb1pOEMySwZ+CWwO/qT+SmBmqx9UXhDJGcEvhEwxG1UJOtsxVnaGG3wI2BPzU8UdMNymq0ddfiDA3sE3hJwxc1UqutfyzOUMOBgXe0eESt1Gz7cDjDGAj0vhafNitiEpzBsG/gXS1eUTs92L6iJoCbySta/KKH2hujM5S4Ge//iejF9tc4AWcG/h65NuucwMmBVYEXNJunQXKQa5Wy3NTQJnqhJ9vn2AnYK/BZ5teoD+R9DwrcGvi5NK4r/aIsNjlsXmppEz3RW+sE3Jl7tOgBed8cinwk8E8xWvox8HZgLnBv4CZlDy7Av7FxjTGMzUUMYo1rPOfBYnSz6K3iawMdHdhRDG/WavlCLDyeXhU4asy1NvDBN+YRd7XiRG/0WPjaQI/Nj23V+fKF9AW1xIoeC99ykCMDf5UGtuki+UL64mLFix7pdeRbDvJQeVSE1sgX0hfUkiJ6HfnmAXif3loZ0q5H5QvpC2pJEb2O1hDyACur16PEs7YtpC+oJVX0XEzAM+Zim/genSZfSF9QS8r9C9FzMQEsSafoDvki+uZ2pYmeRxOw3F5p0feBveUL6Btq+k5pWo7jWmtt0W3yyYcCtaVoLU7rrbVFx8gnHgrHKk3rcdporQ1iY8ImHRopX4ONOGyx1ga9IZ9waFBjrLbgUH7zatOz8gmHxnOK1zYcYt/+0Jx8wqExp3jtwCFFrK/ZhEOD7fVo4ZCixXAPeFMJwmG7NTboc/mEQ4MaY7Udh5S3QBYXo7edeoDaYhZzc23FKfVN6iz5xEPhbKVpM04brLVF98knHgrUlqINOK2z1hZ9qQU4q9MB1ERtKVqH4ySLIVfKF9A31JSqlThyuClVX6hl03HGUEvqp4+W5gFSb4ToCflC+oJaUjVa0ssDpN4HcrEKY4uZNbE7WVb0XEzA8eZiijjE2McKEb/55J5U9FzZF3ivej1JvFKzUVK7D98h5LhUaU98VvQ6ilcOzHnecXpL2cPPJcpmvOnt8UNlp8iWyRc+Laz2sM/fxfE8eh3FLSfYI/BNedROsQp0gubHHae4Ir5S9mpK0Wxdua3pBvYPXKHsHvO80lZ52kSP9DrKZRNfWxpYFicyOb2dj+OsbswZglxPK+3rwdgnR57dix6LXDYxM/PR/Fin8n7gqaru/9fpp8AB8k22gc82dSt6Kz59sEnhvGK4F9//8tfhrsrV8WLV2eaIJfbgQ6zorZLDJsxpOifAKnI+jv+q91QvO10oHz+WC9SdKucCcpxhJ/up+WfmJFXHn65sr437wq/KHpV5y+Rum3Lzs3CaowvRCz3Z+LUTACeq+mctZb0oP34h4FzQtKIHerGxRziD4TLV3+h4GLHju2baCaB2erBxC5xhDHV7h6wlXi4/vkumnQBqtzErOEMNHGWr08uBM5T2Ox/LNBNAzTaewxka4EGoacGRHaZNyv407nVlz9vcEJvO97UxyQRQY/mhrRFnaGGF0laR0SwngNpWyMepxRkiOFzZJx2rWU3AJmW12RiNOEMkfN+vU/3PZFkLPQHUcL0mvAc5QyKHKXtp+Vf1OlTeLxZeuupEzqeU1WD9onGGCeH9gDe+cSe1pvkrz4PlxU2OXOV3kolxhinh0+BI+6fKxLu8HZMKMRAxiT3VJ25xhl0NZ9jV+A/gOaVjwaOBBQAAAABJRU5ErkJggg==" alt="GitHub" class="jsx-4072863876"/></a><a href="mailto:adam@adamkrasny.com" target="_blank" style="min-width:50px;height:50px" rel="noopener noreferrer" class="jsx-4072863876 contact-button p-1 inline-flex justify-center cursor-pointer"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTEuOTkyIDUxMS45OTIiPjxwYXRoIGZpbGw9IiMxOTc2ZDIiIGQ9Ik0yNDcuMDEzIDM0MC45N2wtODcuMDA4IDE1NS4wMDggMTgwLjk5Mi0xMDkuMTg0eiIvPjxwYXRoIGQ9Ik01MDYuMDIxIDE5LjUzYy00LjQ0OC0zLjU4NC0xMC41OTItNC41MTItMTUuOTY4LTIuNGwtNDgwIDE5MmMtNS45MiAyLjM2OC05Ljg4OCA4LjAzMi0xMC4wNDggMTQuNDMyczMuNDg4IDEyLjI1NiA5LjMxMiAxNC45NDRsNDE2IDE5MmMyLjExMi45NiA0LjQxNiAxLjQ3MiA2LjY4OCAxLjQ3MiAyLjU2IDAgNS4xNTItLjY0IDcuNDU2LTEuODU2IDQuNDQ4LTIuMzM2IDcuNDg4LTYuNTkyIDguMzItMTEuNTJsNjQtMzg0Yy45MjgtNS42NjQtMS4yNDgtMTEuNDU2LTUuNzYtMTUuMDcyeiIgZmlsbD0iIzIxOTZmMyIvPjxwYXRoIGZpbGw9IiM2NGI1ZjYiIGQ9Ik00OTYuMDA1IDMxLjk3OGwtMzM2IDI3Ni4wOTZ2MTg3LjkwNGw4OC0xNDcuMjk2eiIvPjwvc3ZnPg==" alt="Email" class="jsx-4072863876"/></a></div><div class="jsx-40435514 side-nav-indicator-holder"></div><main class="jsx-40435514 bg-white py-5 px-4 md:px-8 md:py-10"><div class="jsx-2907914692"><div class="jsx-2907914692 post"><h1>Isolate Scope Helpers</h1>
<p><em>Author’s note - This has changed in Angular 1.2. Directives with isolated scopes will only share this isolated scope with other directives that explicitly request it. It will no longer impact regular directives.</em></p>
<p>Isolate scope is a concept which can be really useful. If a directive ever needs to create or manipulate it’s own variables that it will use in a template, you want it to have an isolated scope. Also the ‘@’, ‘&#x26;’, and ‘=’ shortcuts seem like they could be really easy shortcuts to reading attributes into a directive. Knowing all of this, I still find myself rarely using them and I’ll tell you why.</p>
<p>Anybody developing with AngularJS needs to be familiar with scope prototypical inheritance. Read about it <a href="https://github.com/angular/angular.js/wiki/Understanding-Scopes">here</a>. There is one key point I would like to highlight:</p>
<p>scope: { … } - the directive creates a new isolate/isolated scope. It does not prototypically inherit. This is usually your best choice when creating reusable components, since the directive cannot accidentally read or modify the parent scope.</p>
<p>Isolated scopes inside of directives do NOT prototypically inherit from parent scopes. Keep in mind this is only when defining a scope using an object. Using scope: true will still give you an isolated scope with inheritance. So this case specifically targets situations where you might use ‘@’, ‘&#x26;’, or ‘=’.</p>
<p>Why is this important? Let’s say we’re creating a tooltip directive that wants to grab the contents of its own interpolated attribute to display inside of the tooltip. Ignore which tooltip library we might use and just assume it’s a simple method call. This kind of directive might be defined like so:</p>
<pre class="language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span><span class="token method function property-access">directive</span><span class="token punctuation">(</span><span class="token string">"tooltip"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    scope<span class="token operator">:</span> <span class="token punctuation">{</span>
      tooltip<span class="token operator">:</span> <span class="token string">"@"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      elem<span class="token punctuation">.</span><span class="token method function property-access">tooltip</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span><span class="token property-access">tooltip</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>html</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> tooltip<span class="token operator">=</span><span class="token string">'{{property}}'</span><span class="token operator">></span>
</code></pre>
<p>Our isolated scope will have the value of the interpolated attribute, so the tooltip will display the value of property. Looks good right? Well some Angular guys will point out the obvious. We are passing the string value into the tooltip, so it will never update. I should be using an HTML template here with transclusion so the value stays updated, but that’s outside the scope of this post.</p>
<p>The real issue comes in when you suddenly want to use an ng-model on this input element.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> tooltip<span class="token operator">=</span><span class="token string">'{{property}}'</span> ng<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">'model'</span><span class="token operator">></span>
</code></pre>
<p>If model was defined on the same scope as property, this would no longer work. Why? Because NgModel is now binding through the isolated scope and it is expecting model to be defined on it. All directives on the same DOM element will share an isolate scope if one is defined on any directive applied. To fix this you would do</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> tooltip<span class="token operator">=</span><span class="token string">'{{property}}'</span> ng<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">'$parent.model'</span><span class="token operator">></span>
</code></pre>
<p>But this is already turning bad. Why should my directive affect other directives? If somebody wanted to use my directive they would have to be aware of this potential issue. It is very unfriendly.</p>
<p>Because of this, I’ve leaned towards completely avoiding using the isolate scope shortcuts to retrieve attribute values. Instead, make use of the following:</p>
<pre class="language-javascript"><code class="language-javascript">scope<span class="token punctuation">.</span><span class="token method function property-access">$eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// evaluates the expression on the scope and returns the result</span>

<span class="token function">$parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// built in Angular service which can parse an expression that can later be invoked with any scope and custom locals. also gives access to model setters.</span>

scope<span class="token punctuation">.</span><span class="token method function property-access">$watch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// watches an expression on the scope for changes, provides a callback with new and old values</span>

attrs<span class="token punctuation">.</span><span class="token method function property-access">$observe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// watches an attribute which contains an interpolated value, provides a callback with the value</span>
</code></pre>
<p>We can rewrite the directive without isolate scope</p>
<pre class="language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span><span class="token method function property-access">directive</span><span class="token punctuation">(</span><span class="token string">"tooltip"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      attrs<span class="token punctuation">.</span><span class="token method function property-access">$observe</span><span class="token punctuation">(</span><span class="token string">"tooltip"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elem<span class="token punctuation">.</span><span class="token method function property-access">tooltip</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Now our tooltip will update when the interpolated value changes and we no longer need to isolate scope which will inadvertently affect other directives.</p>
<p>So what’s the lesson here? Isolate scope with attribute helpers is useful when building directives that will utilize their own template since they are generally self contained. Outside of this use case, it might be better to avoid using isolate scope.</p>
<p>I will try to get some examples along with my posts to make it easier to understand.</p></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Isolate Scope Helpers","date":"2013-09-10","slug":"isolate-scope-helpers","content":"\u003ch1\u003eIsolate Scope Helpers\u003c/h1\u003e\n\u003cp\u003e\u003cem\u003eAuthor’s note - This has changed in Angular 1.2. Directives with isolated scopes will only share this isolated scope with other directives that explicitly request it. It will no longer impact regular directives.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIsolate scope is a concept which can be really useful. If a directive ever needs to create or manipulate it’s own variables that it will use in a template, you want it to have an isolated scope. Also the ‘@’, ‘\u0026#x26;’, and ‘=’ shortcuts seem like they could be really easy shortcuts to reading attributes into a directive. Knowing all of this, I still find myself rarely using them and I’ll tell you why.\u003c/p\u003e\n\u003cp\u003eAnybody developing with AngularJS needs to be familiar with scope prototypical inheritance. Read about it \u003ca href=\"https://github.com/angular/angular.js/wiki/Understanding-Scopes\"\u003ehere\u003c/a\u003e. There is one key point I would like to highlight:\u003c/p\u003e\n\u003cp\u003escope: { … } - the directive creates a new isolate/isolated scope. It does not prototypically inherit. This is usually your best choice when creating reusable components, since the directive cannot accidentally read or modify the parent scope.\u003c/p\u003e\n\u003cp\u003eIsolated scopes inside of directives do NOT prototypically inherit from parent scopes. Keep in mind this is only when defining a scope using an object. Using scope: true will still give you an isolated scope with inheritance. So this case specifically targets situations where you might use ‘@’, ‘\u0026#x26;’, or ‘=’.\u003c/p\u003e\n\u003cp\u003eWhy is this important? Let’s say we’re creating a tooltip directive that wants to grab the contents of its own interpolated attribute to display inside of the tooltip. Ignore which tooltip library we might use and just assume it’s a simple method call. This kind of directive might be defined like so:\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003eapp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edirective\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"tooltip\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    scope\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      tooltip\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"@\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token function-variable function\"\u003elink\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003escope\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e attrs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      elem\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etooltip\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003escope\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etooltip\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ehtml\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003einput type\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'text'\u003c/span\u003e tooltip\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'{{property}}'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOur isolated scope will have the value of the interpolated attribute, so the tooltip will display the value of property. Looks good right? Well some Angular guys will point out the obvious. We are passing the string value into the tooltip, so it will never update. I should be using an HTML template here with transclusion so the value stays updated, but that’s outside the scope of this post.\u003c/p\u003e\n\u003cp\u003eThe real issue comes in when you suddenly want to use an ng-model on this input element.\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003einput type\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'text'\u003c/span\u003e tooltip\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'{{property}}'\u003c/span\u003e ng\u003cspan class=\"token operator\"\u003e-\u003c/span\u003emodel\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'model'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf model was defined on the same scope as property, this would no longer work. Why? Because NgModel is now binding through the isolated scope and it is expecting model to be defined on it. All directives on the same DOM element will share an isolate scope if one is defined on any directive applied. To fix this you would do\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003einput type\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'text'\u003c/span\u003e tooltip\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'{{property}}'\u003c/span\u003e ng\u003cspan class=\"token operator\"\u003e-\u003c/span\u003emodel\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'$parent.model'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBut this is already turning bad. Why should my directive affect other directives? If somebody wanted to use my directive they would have to be aware of this potential issue. It is very unfriendly.\u003c/p\u003e\n\u003cp\u003eBecause of this, I’ve leaned towards completely avoiding using the isolate scope shortcuts to retrieve attribute values. Instead, make use of the following:\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003escope\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003e$eval\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// evaluates the expression on the scope and returns the result\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003e$parse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// built in Angular service which can parse an expression that can later be invoked with any scope and custom locals. also gives access to model setters.\u003c/span\u003e\n\nscope\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003e$watch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// watches an expression on the scope for changes, provides a callback with new and old values\u003c/span\u003e\n\nattrs\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003e$observe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// watches an attribute which contains an interpolated value, provides a callback with the value\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe can rewrite the directive without isolate scope\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003eapp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003edirective\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"tooltip\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token function-variable function\"\u003elink\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003escope\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e attrs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      attrs\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003e$observe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"tooltip\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eval\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        elem\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etooltip\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eval\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow our tooltip will update when the interpolated value changes and we no longer need to isolate scope which will inadvertently affect other directives.\u003c/p\u003e\n\u003cp\u003eSo what’s the lesson here? Isolate scope with attribute helpers is useful when building directives that will utilize their own template since they are generally self contained. Outside of this use case, it might be better to avoid using isolate scope.\u003c/p\u003e\n\u003cp\u003eI will try to get some examples along with my posts to make it easier to understand.\u003c/p\u003e"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"isolate-scope-helpers"},"buildId":"iJenALEn8t7NKy_DwyjMf","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-1c161e633660818aa2c3.js"></script><script async="" data-next-page="/_app" src="/_next/static/iJenALEn8t7NKy_DwyjMf/pages/_app.js"></script><script async="" data-next-page="/blog/[slug]" src="/_next/static/iJenALEn8t7NKy_DwyjMf/pages/blog/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.c6faae2799416a6da8e8.js" async=""></script><script src="/_next/static/chunks/3021bdac98e69bcd02bdc1fa4ee12f459d5dd1c6.36a881b4253e934d1e53.js" async=""></script><script src="/_next/static/chunks/42177f33c26e48b0d455685a01c568315c8aca79.cfa33ad9bed022c371f6.js" async=""></script><script src="/_next/static/runtime/main-cbcd34bbcc20775d6548.js" async=""></script><script src="/_next/static/iJenALEn8t7NKy_DwyjMf/_buildManifest.js" async=""></script><script src="/_next/static/iJenALEn8t7NKy_DwyjMf/_ssgManifest.js" async=""></script></body></html>